{{define "layout_stats"}}{{template "layout" .}}{{end}}

{{define "page_title"}}Catalog Statistics • GRO Catalog{{end}}

{{define "page_content"}}
  <div class="muted" style="margin-bottom:16px;font-size:13px">
    <a href="/" style="color:var(--link)">Catalog</a>
    <span class="sep">→</span>
    <span>Statistics</span>
  </div>

  <h1>📊 GRO Catalog Statistics</h1>
  <p class="muted" style="margin-bottom:24px">Complete overview of the GRO data universe - as understood by our agents</p>

  <div style="font-size:13px;color:#94a3b8;margin-bottom:24px">
    7 AI agents • 47 database tables • 474 local files • 627 v6 jobs • 541 external sources
  </div>

  <!-- 5 Dimensions Navigation -->
  <section style="margin-bottom:32px;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px">
    <div style="font-size:12px;font-weight:600;color:#64748b;margin-bottom:10px;text-transform:uppercase;letter-spacing:0.5px">Browse by Dimension</div>
    <div style="display:flex;gap:8px;flex-wrap:wrap">
      <a href="/query" style="text-decoration:none;background:#fff;border:1px solid #cbd5e1;color:#475569;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;transition:all 0.2s;display:inline-flex;align-items:center;gap:6px"
         onmouseover="this.style.borderColor='#3b82f6';this.style.background='#eff6ff'"
         onmouseout="this.style.borderColor='#cbd5e1';this.style.background='#fff'">
        🔍 Unified Search
      </a>
      <a href="/collections" style="text-decoration:none;background:#fff;border:1px solid #cbd5e1;color:#475569;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;transition:all 0.2s;display:inline-flex;align-items:center;gap:6px"
         onmouseover="this.style.borderColor='#3b82f6';this.style.background='#eff6ff'"
         onmouseout="this.style.borderColor='#cbd5e1';this.style.background='#fff'">
        📚 Collections
      </a>
      <a href="/stats#formats" style="text-decoration:none;background:#fff;border:1px solid #3b82f6;color:#334155;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;transition:all 0.2s;display:inline-flex;align-items:center;gap:6px">
        📦 Formats
      </a>
      <a href="/owners" style="text-decoration:none;background:#fff;border:1px solid #cbd5e1;color:#475569;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;transition:all 0.2s;display:inline-flex;align-items:center;gap:6px"
         onmouseover="this.style.borderColor='#3b82f6';this.style.background='#eff6ff'"
         onmouseout="this.style.borderColor='#cbd5e1';this.style.background='#fff'">
        👥 Ownership
      </a>
      <a href="/geography/continents" style="text-decoration:none;background:#fff;border:1px solid #cbd5e1;color:#475569;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;transition:all 0.2s;display:inline-flex;align-items:center;gap:6px"
         onmouseover="this.style.borderColor='#3b82f6';this.style.background='#eff6ff'"
         onmouseout="this.style.borderColor='#cbd5e1';this.style.background='#fff'">
        🌍 Geography
      </a>
    </div>
  </section>

  <!-- Total Records -->
  <section class="card">
    <h2 style="font-size:48px;font-weight:800;color:#0b63ce;margin:0">{{.TotalRecords}}</h2>
    <p style="color:#6b7280;margin:8px 0 0;font-size:16px">Total Catalog Records</p>
  </section>

  <!-- Entity Breakdown -->
  <section class="card">
    <h2 style="margin:0 0 24px">🗂️ Entity Breakdown</h2>

    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px">
      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px">
        <div style="font-size:32px;font-weight:700;color:#475569">{{.AgentCount}}</div>
        <div style="color:#64748b;font-size:14px;margin-top:4px">🤖 AI Agents</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px">
        <div style="font-size:32px;font-weight:700;color:#475569">{{.BotCount}}</div>
        <div style="color:#64748b;font-size:14px;margin-top:4px">🔧 Bots</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px">
        <div style="font-size:32px;font-weight:700;color:#475569">{{.ServiceCount}}</div>
        <div style="color:#64748b;font-size:14px;margin-top:4px">⚡ Services</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px">
        <div style="font-size:32px;font-weight:700;color:#475569">{{.DatabaseTableCount}}</div>
        <div style="color:#64748b;font-size:14px;margin-top:4px">🗄️ Database Tables</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px">
        <div style="font-size:32px;font-weight:700;color:#475569">{{.FileCount}}</div>
        <div style="color:#64748b;font-size:14px;margin-top:4px">📄 Local Files</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px">
        <div style="font-size:32px;font-weight:700;color:#475569">{{.V6JobCount}}</div>
        <div style="color:#64748b;font-size:14px;margin-top:4px">📋 v6 Jobs</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px">
        <div style="font-size:32px;font-weight:700;color:#475569">{{.ExternalSourceCount}}</div>
        <div style="color:#64748b;font-size:14px;margin-top:4px">🌐 External Sources</div>
      </div>
    </div>
  </section>

  <!-- Collections Breakdown -->
  <section class="card">
    <h2 style="margin:0 0 16px">📚 Collections (21 types)</h2>
    <p class="muted" style="margin:0 0 24px;font-size:14px">
      All catalog entries are organized into collections based on their purpose and nature
    </p>

    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px">
      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-weight:600;color:#334155;margin-bottom:8px">Core Operations</div>
        <div style="font-size:13px;color:#475569;line-height:1.8">
          • <code>ai_agent</code> - AI agents (7)<br>
          • <code>operational_service</code> - Services<br>
          • <code>api_service</code> - API services
        </div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-weight:600;color:#334155;margin-bottom:8px">Data Assets</div>
        <div style="font-size:13px;color:#475569;line-height:1.8">
          • <code>existing_db</code> - Database tables (47)<br>
          • <code>existing_local</code> - Local files (474)<br>
          • <code>potential_v6</code> - v6 jobs (627)
        </div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-weight:600;color:#334155;margin-bottom:8px">Automation</div>
        <div style="font-size:13px;color:#475569;line-height:1.8">
          • <code>automation_bot</code><br>
          • <code>data_inspection_bot</code><br>
          • <code>catalog_management_bot</code>
        </div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-weight:600;color:#334155;margin-bottom:8px">External Sources</div>
        <div style="font-size:13px;color:#475569;line-height:1.8">
          • <code>external_api</code> - APIs<br>
          • <code>external_government</code> - Govt portals<br>
          • <code>external_news</code> - News feeds<br>
          • <code>external_academic</code> - Academia<br>
          • <code>external_download</code> - Downloads<br>
          • <code>external_other</code> - Other
        </div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-weight:600;color:#334155;margin-bottom:8px">Infrastructure</div>
        <div style="font-size:13px;color:#475569;line-height:1.8">
          • <code>infrastructure</code><br>
          • <code>internal_tool</code><br>
          • <code>verb_app</code> - Verb components
        </div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-weight:600;color:#334155;margin-bottom:8px">People & Projects</div>
        <div style="font-size:13px;color:#475569;line-height:1.8">
          • <code>team_member</code><br>
          • <code>claude_projects</code>
        </div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-weight:600;color:#334155;margin-bottom:8px">Historical / Deprecated</div>
        <div style="font-size:13px;color:#475569;line-height:1.8">
          • <code>historical_agent</code> - Deprecated agents
        </div>
      </div>
    </div>
  </section>

  <!-- Geographic Distribution -->
  <section class="card">
    <h2 style="margin:0 0 16px">🌍 Geographic Distribution (11 regions)</h2>
    <p class="muted" style="margin:0 0 24px;font-size:14px">
      Catalog entries span 6 geographic continents plus 5 organizational regions
    </p>

    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px">
      <div style="background:#f8fafc;border-left:4px solid #3b82f6;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#1e40af">593</div>
        <div style="font-size:13px;color:#64748b">🌎 North America</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #8b5cf6;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#6d28d9">236</div>
        <div style="font-size:13px;color:#64748b">🌏 Asia</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #06b6d4;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#0e7490">227</div>
        <div style="font-size:13px;color:#64748b">🌎 South America</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #f59e0b;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#d97706">199</div>
        <div style="font-size:13px;color:#64748b">🌍 Africa</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #10b981;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#059669">189</div>
        <div style="font-size:13px;color:#64748b">🌍 Europe</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #ec4899;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#db2777">65</div>
        <div style="font-size:13px;color:#64748b">🌏 Oceania</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #64748b;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">78</div>
        <div style="font-size:13px;color:#64748b">🤖 Clankr (AI Ops)</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #64748b;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">28</div>
        <div style="font-size:13px;color:#64748b">🌐 Global</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #64748b;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">16</div>
        <div style="font-size:13px;color:#64748b">⚙️ Infrastructure</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #64748b;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">13</div>
        <div style="font-size:13px;color:#64748b">👥 Team</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #64748b;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">12</div>
        <div style="font-size:13px;color:#64748b">🔤 Verbs</div>
      </div>
    </div>
  </section>

  <!-- Data Formats -->
  <section class="card">
    <h2 style="margin:0 0 16px">💾 Data Formats (56 types)</h2>
    <p class="muted" style="margin:0 0 24px;font-size:14px">
      Catalog tracks everything from databases to APIs to Lambda functions
    </p>

    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px">
      <div>
        <h4 style="margin:0 0 12px;color:#0f766e;font-size:14px">Top 10 Formats</h4>
        <div style="font-size:13px;line-height:2;color:#475569">
          1. <code>api</code> - 319<br>
          2. <code>csv</code> - 218<br>
          3. <code>db</code> - 173<br>
          4. <code>duckdb</code> - 145<br>
          5. <code>parquet</code> - 96<br>
          6. <code>news</code> - 78<br>
          7. <code>ecs</code> - 70<br>
          8. <code>lambda</code> - 67<br>
          9. <code>government</code> - 62<br>
          10. <code>db_sql</code> - 55
        </div>
      </div>

      <div>
        <h4 style="margin:0 0 12px;color:#7c2d12;font-size:14px">File Formats</h4>
        <div style="font-size:13px;line-height:1.8;color:#475569">
          CSV (218), Parquet (96), XLSX (30), PDF (32), Shapefile (22), TSV (22), GeoJSON (8), GeoPackage (8), JSON (12), XLS (7)
        </div>
      </div>

      <div>
        <h4 style="margin:0 0 12px;color:#1e40af;font-size:14px">AWS Infrastructure</h4>
        <div style="font-size:13px;line-height:1.8;color:#475569">
          Lambda (67), ECS (70), Lambda Service (15), ECS Task (14), AWS Resource (10), Step Functions (9)
        </div>
      </div>

      <div>
        <h4 style="margin:0 0 12px;color:#6b21a8;font-size:14px">Code & Scripts</h4>
        <div style="font-size:13px;line-height:1.8;color:#475569">
          Python Script (50), Shell (35), Shell Exec (5), Python Batch (3)
        </div>
      </div>
    </div>
  </section>

  <!-- Implementation Status -->
  <section class="card">
    <h2 style="margin:0 0 16px">🚦 Implementation Status (12 states)</h2>
    <p class="muted" style="margin:0 0 24px;font-size:14px">
      Track what's production-ready vs. planned vs. deprecated
    </p>

    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px">
      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">526</div>
        <div style="font-size:13px;color:#64748b">✅ Implemented</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">617</div>
        <div style="font-size:13px;color:#64748b">📝 Draft</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">541</div>
        <div style="font-size:13px;color:#64748b">💡 Potential</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">88</div>
        <div style="font-size:13px;color:#64748b">✅ Active</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#475569">11</div>
        <div style="font-size:13px;color:#64748b">📦 Archived</div>
      </div>

      <div style="background:#f3f4f6;border:1px solid #e5e7eb;border-radius:6px;padding:12px">
        <div style="font-size:24px;font-weight:700;color:#374151">20</div>
        <div style="font-size:13px;color:#1f2937">Other (7 states)</div>
      </div>
    </div>

    <div style="margin-top:16px;padding:12px;background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px">
      <div style="font-size:13px;color:#475569">
        <strong>Production-Ready:</strong> 624 entries (implemented + active + deployed)<br>
        <strong>In Development:</strong> 1,161 entries (draft + potential + planned)
      </div>
    </div>
  </section>

  <!-- Ownership -->
  <section class="card">
    <h2 style="margin:0 0 16px">👥 Ownership (32 owners)</h2>
    <p class="muted" style="margin:0 0 24px;font-size:14px">
      Who manages what in the GRO ecosystem
    </p>

    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px">
      <div style="background:#f8fafc;border-left:4px solid #64748b;padding:12px">
        <div style="font-size:20px;font-weight:700;color:#475569">1,199</div>
        <div style="font-size:13px;color:#334155;margin-top:4px"><code>@data-platform</code></div>
        <div style="font-size:11px;color:#64748b">66% of catalog</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #64748b;padding:12px">
        <div style="font-size:20px;font-weight:700;color:#475569">227</div>
        <div style="font-size:13px;color:#334155;margin-top:4px"><code>@team-data-eng</code></div>
        <div style="font-size:11px;color:#64748b">13% of catalog</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #64748b;padding:12px">
        <div style="font-size:20px;font-weight:700;color:#475569">90</div>
        <div style="font-size:13px;color:#334155;margin-top:4px"><code>@clankr</code></div>
        <div style="font-size:11px;color:#64748b">5% of catalog</div>
      </div>

      <div style="background:#f8fafc;border-left:4px solid #64748b;padding:12px">
        <div style="font-size:20px;font-weight:700;color:#475569">287</div>
        <div style="font-size:13px;color:#334155;margin-top:4px">29 other owners</div>
        <div style="font-size:11px;color:#64748b">Teams, domains, orgs</div>
      </div>
    </div>

    <details style="margin-top:16px">
      <summary style="cursor:pointer;padding:12px;background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;font-weight:600;color:#334155">
        View All 32 Owners
      </summary>
      <div style="margin-top:12px;padding:16px;background:#ffffff;border:1px solid #e2e8f0;border-radius:6px;font-size:13px;line-height:2;font-family:monospace">
        @data-platform (1199), @team-data-eng (227), @clankr (90), @geosure-data-team (53), @team-handle (45), @GeoSure (33), @team-safety-insights (24), @geosure/data-team (23), @team-geosure (17), @infrastructure (16), @geosure (13), @gro-platform (12), @way-barrios (11), @team-collectors (8), @team-intel (3), @anthropic + @jeff-johnson (2), @env-intel (2), @geosure-collectors (2), @geosure-hazards (2), @geosure-health (2), @geosure-risk-intel (2), @resilience-latam (2), @team-hazards (2), @team-public-health (2), @team-resilience (2), @team-risk-ops (2), @team-risk-science (2), @geosure-data-platform (1), @geosure-environment (1), @team-health-insights (1), @team-operations-insights (1), @team-safety-intel (1)
      </div>
    </details>
  </section>

  <!-- Database Tables -->
  <section class="card">
    <h2 style="margin:0 0 16px">🗄️ Database Tables (47 tracked)</h2>
    <p class="muted" style="margin:0 0 24px;font-size:14px">
      Complete schema of production PostgreSQL + PostGIS database
    </p>

    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px;font-size:13px">
      <div>
        <div style="font-weight:600;color:#0f766e;margin-bottom:8px">News/Articles Pipeline (9)</div>
        <div style="color:#475569;line-height:1.8;font-family:monospace;font-size:12px">
          raw_articles, filtered_news, geosure_news, geosure_news_geocoded, city_recent_articles, safety_articles, gdelt_safety_articles, article_geocoding_process, article_location_associations
        </div>
      </div>

      <div>
        <div style="font-weight:600;color:#7c2d12;margin-bottom:8px">Event Data (4)</div>
        <div style="color:#475569;line-height:1.8;font-family:monospace;font-size:12px">
          gdelt_events, acled_events, gdelt_processing_status, georeference_status
        </div>
      </div>

      <div>
        <div style="font-weight:600;color:#1e40af;margin-bottom:8px">Geographic/Admin (6)</div>
        <div style="color:#475569;line-height:1.8;font-family:monospace;font-size:12px">
          adm_0, adm_1, adm_2, admin_bboxes, divisions_area, divisions_point
        </div>
      </div>

      <div>
        <div style="font-weight:600;color:#6b21a8;margin-bottom:8px">Safety & Reporting (3)</div>
        <div style="color:#475569;line-height:1.8;font-family:monospace;font-size:12px">
          city_safety_reports, city_safety_reports_new, city_neighborhood_safety
        </div>
      </div>
    </div>

    <div style="margin-top:12px">
      <a href="/api" style="color:#0b63ce;text-decoration:none;font-size:13px;font-weight:500">
        Query by table name: <code>?database_table=raw_articles</code> →
      </a>
    </div>
  </section>

  <!-- v6 Jobs -->
  <section class="card">
    <h2 style="margin:0 0 16px">⚙️ v6 Job Definitions (617 cataloged)</h2>
    <p class="muted" style="margin:0 0 24px;font-size:14px">
      YAML job definitions for future automation pipeline
    </p>

    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px">
      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:16px;text-align:center">
        <div style="font-size:28px;font-weight:700;color:#475569">441</div>
        <div style="font-size:13px;color:#334155;margin-top:4px">Bootstrap Jobs</div>
        <div style="font-size:11px;color:#64748b;margin-top:4px">DB setup, data loading</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:16px;text-align:center">
        <div style="font-size:28px;font-weight:700;color:#475569">158</div>
        <div style="font-size:13px;color:#334155;margin-top:4px">Collector Jobs</div>
        <div style="font-size:11px;color:#64748b;margin-top:4px">API feeds, scraping</div>
      </div>

      <div style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:6px;padding:16px;text-align:center">
        <div style="font-size:28px;font-weight:700;color:#475569">18</div>
        <div style="font-size:13px;color:#334155;margin-top:4px">Run Jobs</div>
        <div style="font-size:11px;color:#64748b;margin-top:4px">Calculations, scoring</div>
      </div>
    </div>

    <div style="margin-top:12px">
      <a href="/api" style="color:#0b63ce;text-decoration:none;font-size:13px;font-weight:500">
        Query by job type: <code>?v6_job_type=collectors</code> →
      </a>
    </div>
  </section>

  <!-- Introspection Deep Dive -->
  <section class="card">
    <h2 style="margin:0 0 16px">🔍 Introspection Metadata</h2>
    <p class="muted" style="margin:0 0 24px;font-size:14px">
      Rich metadata captured by Catalog Agent's introspection bots
    </p>

    <table style="width:100%;border-collapse:collapse">
      <thead>
        <tr style="border-bottom:2px solid #e5e7eb">
          <th style="text-align:left;padding:12px 0;color:#6b7280;font-weight:600">Introspection File</th>
          <th style="text-align:right;padding:12px 0;color:#6b7280;font-weight:600">Count</th>
        </tr>
      </thead>
      <tbody>
        <tr style="border-bottom:1px solid #f3f4f6">
          <td style="padding:12px 0">
            <span style="font-family:monospace;font-size:13px">database_schema_latest.json</span>
          </td>
          <td style="text-align:right;padding:12px 0;font-weight:600">
            {{.IntrospectionStats.DatabaseTables}} tables
          </td>
        </tr>
        <tr style="border-bottom:1px solid #f3f4f6">
          <td style="padding:12px 0">
            <span style="font-family:monospace;font-size:13px">v6_job_metadata.json</span>
          </td>
          <td style="text-align:right;padding:12px 0;font-weight:600">
            {{.IntrospectionStats.V6Jobs}} jobs
          </td>
        </tr>
        <tr style="border-bottom:1px solid #f3f4f6">
          <td style="padding:12px 0">
            <span style="font-family:monospace;font-size:13px">csv_introspection.json</span>
          </td>
          <td style="text-align:right;padding:12px 0;font-weight:600">
            {{.IntrospectionStats.CSVFiles}} files
          </td>
        </tr>
        <tr style="border-bottom:1px solid #f3f4f6">
          <td style="padding:12px 0">
            <span style="font-family:monospace;font-size:13px">parquet_introspection.json</span>
          </td>
          <td style="text-align:right;padding:12px 0;font-weight:600">
            {{.IntrospectionStats.ParquetFiles}} files
          </td>
        </tr>
        <tr style="border-bottom:1px solid #f3f4f6">
          <td style="padding:12px 0">
            <span style="font-family:monospace;font-size:13px">shapefile_introspection.json</span>
          </td>
          <td style="text-align:right;padding:12px 0;font-weight:600">
            {{.IntrospectionStats.Shapefiles}} files
          </td>
        </tr>
        <tr style="border-bottom:1px solid #f3f4f6">
          <td style="padding:12px 0">
            <span style="font-family:monospace;font-size:13px">pdf_introspection.json</span>
          </td>
          <td style="text-align:right;padding:12px 0;font-weight:600">
            {{.IntrospectionStats.PDFs}} files
          </td>
        </tr>
        <tr>
          <td style="padding:12px 0">
            <span style="font-family:monospace;font-size:13px">agents_introspection.json</span>
          </td>
          <td style="text-align:right;padding:12px 0;font-weight:600">
            {{.IntrospectionStats.Agents}} agents
          </td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- Agent Understanding -->
  <section class="card" style="background:#f1f5f9;border:1px solid #cbd5e1">
    <h2 style="margin:0 0 16px;color:#334155">🧠 Agent Intelligence Layer</h2>
    <p style="margin:0 0 24px;color:#475569;line-height:1.6">
      This catalog enables <strong>{{.AgentCount}} AI agents</strong> to discover capabilities,
      understand organizational relationships, and coordinate autonomously across
      <strong>{{.TotalRecords}} cataloged entities</strong> - without asking humans.
    </p>

    <div style="background:#e2e8f0;border-radius:8px;padding:16px">
      <div style="font-size:13px;color:#475569;line-height:1.8">
        <strong>✅ What agents can discover:</strong><br>
        • What data exists and where it lives<br>
        • How to execute services and run queries<br>
        • Who manages each component<br>
        • Organizational relationships and reporting structure<br>
        • Complete schemas, dependencies, and capabilities
      </div>
    </div>
  </section>

  <!-- Quick Links -->
  <section class="card">
    <h2 style="margin:0 0 16px">🔗 Explore the Catalog</h2>
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <a href="/" class="btn btn-primary">Browse All Records</a>
      <a href="http://localhost:8000/" target="_blank" class="btn btn-secondary">API Endpoint</a>
      <a href="/geography/?continent=clankr" class="btn btn-secondary">View Agents</a>
    </div>
  </section>

  <p class="muted" style="text-align:center;margin-top:48px;font-size:13px">
    Last updated: {{.IntrospectionStats.DatabaseTables}} database tables introspected
  </p>

{{end}}

<style>
.btn {
  display:inline-block;
  padding:10px 20px;
  border-radius:6px;
  text-decoration:none;
  font-weight:500;
  transition:all 0.2s;
}
.btn-primary {
  background:#0b63ce;
  color:white;
}
.btn-primary:hover {
  background:#0952a5;
  transform:translateY(-2px);
}
.btn-secondary {
  background:#f3f4f6;
  color:#374151;
  border:1px solid #d1d5db;
}
.btn-secondary:hover {
  background:#e5e7eb;
  transform:translateY(-2px);
}
</style>
